# R包发布检查清单

## 发布前检查

### 代码质量
- [ ] 所有测试通过
- [ ] 代码覆盖率 > 80%
- [ ] 无警告或错误
- [ ] 代码风格一致
- [ ] 无TODO或FIXME注释

### 文档完整性
- [ ] 所有函数有文档
- [ ] 示例代码可执行
- [ ] README.md更新
- [ ] NEWS.md更新
- [ ] vignettes完整
- [ ] 拼写检查通过

### 包结构
- [ ] DESCRIPTION文件正确
- [ ] NAMESPACE文件正确
- [ ] 许可证文件存在
- [ ] 依赖关系正确
- [ ] 导入导出正确

## R CMD check

### 本地检查
```r
devtools::check()
devtools::check_win_devel()
devtools::check_mac_release()
rhub::check_for_cran()
```

### 检查项目
- [ ] 无错误
- [ ] 无警告
- [ ] 无注释
- [ ] 文档完整
- [ ] 示例可执行

## CRAN政策检查

### 必需检查
- [ ] 符合CRAN政策
- [ ] 无非ASCII字符（除注释）
- [ ] 包大小合理
- [ ] 依赖包可用
- [ ] 许可证兼容

### 推荐检查
- [ ] 使用标准许可证
- [ ] 提供URL和BugReports
- [ ] 包含作者信息
- [ ] 版本号正确

## 版本管理

### 版本号更新
- [ ] DESCRIPTION中的版本号
- [ ] NEWS.md中的版本信息
- [ ] 包级文档中的版本
- [ ] 所有相关文档

### 标签创建
```bash
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin v1.0.0
```

## 发布流程

### GitHub发布
1. 创建Release
2. 上传源代码包
3. 编写发布说明
4. 标记为最新版本

### CRAN提交
1. 构建源代码包
2. 填写提交表单
3. 上传包文件
4. 等待审核结果

## 发布后检查

### 安装测试
- [ ] 从CRAN安装成功
- [ ] 从GitHub安装成功
- [ ] 依赖包正确安装
- [ ] 功能正常工作

### 文档更新
- [ ] 网站文档更新
- [ ] 示例代码测试
- [ ] 链接检查
- [ ] 搜索功能正常

## 回滚计划

### 问题发现
- 立即停止分发
- 评估问题严重性
- 制定修复计划

### 修复发布
- 快速修复问题
- 增加补丁版本号
- 重新发布

## 长期维护

### 定期检查
- 依赖包更新
- R版本兼容性
- 用户反馈处理
- 性能监控

### 版本支持
- 维护当前版本
- 支持上一个版本
- 计划下一个版本

